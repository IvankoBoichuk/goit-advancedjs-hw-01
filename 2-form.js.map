{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const init = () => {\n    const formData = {\n        email: \"\",\n        message: \"\",\n    };\n\n    // Check and fill data\n    fillForm(formData);\n\n    const htmlForm = document.querySelector(\".feedback-form\");\n    htmlForm.addEventListener(\"input\", event => inputHandler(event, formData));\n    htmlForm.addEventListener(\"submit\", event => formHandler(event, formData));\n}\n\nconst formHandler = (e, formData) => {\n    e.preventDefault()\n    const emptyFields = Object.values(formData).filter(el => !el)\n    if (emptyFields.length) {\n        alert(\"Fill please all fields\")\n        return\n    }\n    console.log(formData);\n    localStorage.clear();\n    clearFormData(formData)\n    e.currentTarget.reset()\n}\n\nconst clearFormData = (formData) => {\n    Object.keys(formData).forEach(key => formData[key] = \"\")\n}\n\nconst inputHandler = (e, formData) => {\n    formData[e.target.name] = e.target.value;\n    save(\"feedback-form-state\", formData);\n}\n\nconst fillForm = (formData) => {\n    const formDataLS = load(\"feedback-form-state\");\n    if (!formDataLS) {\n        return;\n    }\n\n    Object.keys(formDataLS).forEach(key => {\n        const htmlElement = document.querySelector(`[name=${key}]`)\n        htmlElement.value = formDataLS[key];\n        formData[key] = formDataLS[key]; \n    })\n\n    formData = formDataLS\n    console.log(formData);\n    \n}\n\nconst save = (key, value) => {\n    try {\n        localStorage.setItem(key, JSON.stringify(value));\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nconst load = (key) => {\n    try {\n        return JSON.parse(localStorage.getItem(key));\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);"],"names":["init","formData","fillForm","htmlForm","event","inputHandler","formHandler","e","el","clearFormData","key","save","formDataLS","load","htmlElement","value","error"],"mappings":"wFAAA,MAAMA,EAAO,IAAM,CACf,MAAMC,EAAW,CACb,MAAO,GACP,QAAS,EACjB,EAGIC,EAASD,CAAQ,EAEjB,MAAME,EAAW,SAAS,cAAc,gBAAgB,EACxDA,EAAS,iBAAiB,QAASC,GAASC,EAAaD,EAAOH,CAAQ,CAAC,EACzEE,EAAS,iBAAiB,SAAUC,GAASE,EAAYF,EAAOH,CAAQ,CAAC,CAC7E,EAEMK,EAAc,CAACC,EAAGN,IAAa,CAGjC,GAFAM,EAAE,eAAgB,EACE,OAAO,OAAON,CAAQ,EAAE,OAAOO,GAAM,CAACA,CAAE,EAC5C,OAAQ,CACpB,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIP,CAAQ,EACpB,aAAa,MAAK,EAClBQ,EAAcR,CAAQ,EACtBM,EAAE,cAAc,MAAO,CAC3B,EAEME,EAAiBR,GAAa,CAChC,OAAO,KAAKA,CAAQ,EAAE,QAAQS,GAAOT,EAASS,CAAG,EAAI,EAAE,CAC3D,EAEML,EAAe,CAACE,EAAGN,IAAa,CAClCA,EAASM,EAAE,OAAO,IAAI,EAAIA,EAAE,OAAO,MACnCI,EAAK,sBAAuBV,CAAQ,CACxC,EAEMC,EAAYD,GAAa,CAC3B,MAAMW,EAAaC,EAAK,qBAAqB,EACxCD,IAIL,OAAO,KAAKA,CAAU,EAAE,QAAQF,GAAO,CACnC,MAAMI,EAAc,SAAS,cAAc,SAASJ,CAAG,GAAG,EAC1DI,EAAY,MAAQF,EAAWF,CAAG,EAClCT,EAASS,CAAG,EAAIE,EAAWF,CAAG,CACtC,CAAK,EAEDT,EAAWW,EACX,QAAQ,IAAIX,CAAQ,EAExB,EAEMU,EAAO,CAACD,EAAKK,IAAU,CACzB,GAAI,CACA,aAAa,QAAQL,EAAK,KAAK,UAAUK,CAAK,CAAC,CAClD,OAAQC,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL,EAEMH,EAAQH,GAAQ,CAClB,GAAI,CACA,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC9C,OAAQM,EAAO,CACZ,eAAQ,IAAIA,CAAK,EACV,EACV,CACL,EAEA,SAAS,iBAAiB,mBAAoBhB,CAAI"}